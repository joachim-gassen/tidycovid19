<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Visualize the spread of the Covid-19 pandemic — plot_covid19_spread • tidycovid19</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Visualize the spread of the Covid-19 pandemic — plot_covid19_spread" />
<meta property="og:description" content="Provides a flexible visualization of the country-level Covid-19 spread,
inpired by the displays created by John Burn-Murdoch from the Financial
Times. Uses data from the Johns Hopkins University CSSE team
(https://github.com/CSSEGISandData/COVID-19), the ACAPS governmental
measures database
(https://www.acaps.org/covid19-government-measures-dataset), and the
World Bank (https://data.worldbank.org).
If your are overwhelmed with the options of the plot, explore them with
shiny_covid19_spread() and use the 'copy code for plot to clipboard'
option." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-119053376-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-119053376-1');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidycovid19</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://www.github.com/joachim-gassen/tidycovid19">
    <span class="fa fa-github"></span>
     
    Code repository
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Visualize the spread of the Covid-19 pandemic</h1>
    
    <div class="hidden name"><code>plot_covid19_spread.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Provides a flexible visualization of the country-level Covid-19 spread,
inpired by the displays created by John Burn-Murdoch from the Financial
Times. Uses data from the Johns Hopkins University CSSE team
(<a href='https://github.com/CSSEGISandData/COVID-19'>https://github.com/CSSEGISandData/COVID-19</a>), the ACAPS governmental
measures database
(<a href='https://www.acaps.org/covid19-government-measures-dataset'>https://www.acaps.org/covid19-government-measures-dataset</a>), and the
World Bank (<a href='https://data.worldbank.org'>https://data.worldbank.org</a>).
If your are overwhelmed with the options of the plot, explore them with
<code><a href='shiny_covid19_spread.html'>shiny_covid19_spread()</a></code> and use the 'copy code for plot to clipboard'
option.</p>
    </div>

    <pre class="usage"><span class='fu'>plot_covid19_spread</span><span class='op'>(</span>
  data <span class='op'>=</span> <span class='fu'><a href='download_merged_data.html'>download_merged_data</a></span><span class='op'>(</span>cached <span class='op'>=</span> <span class='cn'>TRUE</span>, silent <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>,
  type <span class='op'>=</span> <span class='st'>"deaths"</span>,
  min_cases <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>per_capita</span>, <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>type</span> <span class='op'>==</span> <span class='st'>"deaths"</span>, <span class='fl'>5</span>, <span class='fl'>50</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>type</span> <span class='op'>==</span>
    <span class='st'>"deaths"</span>, <span class='fl'>1000</span>, <span class='fl'>10000</span><span class='op'>)</span><span class='op'>)</span>,
  min_by_ctry_obs <span class='op'>=</span> <span class='fl'>7</span>,
  edate_cutoff <span class='op'>=</span> <span class='fl'>180</span>,
  data_date_str <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/format.html'>format</a></span><span class='op'>(</span><span class='fu'>lubridate</span><span class='fu'>::</span><span class='fu'><a href='https://lubridate.tidyverse.org/reference/as_date.html'>as_date</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>timestamp</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span>, <span class='st'>"%B %d, %Y"</span><span class='op'>)</span>,
  cumulative <span class='op'>=</span> <span class='cn'>TRUE</span>,
  change_ave <span class='op'>=</span> <span class='fl'>7</span>,
  per_capita <span class='op'>=</span> <span class='cn'>FALSE</span>,
  per_capita_x_axis <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>per_capita</span>, <span class='cn'>TRUE</span>, <span class='cn'>FALSE</span><span class='op'>)</span>,
  population_cutoff <span class='op'>=</span> <span class='fl'>0</span>,
  log_scale <span class='op'>=</span> <span class='cn'>TRUE</span>,
  highlight <span class='op'>=</span> <span class='cn'>NULL</span>,
  exclude_others <span class='op'>=</span> <span class='cn'>FALSE</span>,
  intervention <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>The data frame to base the plot on. Should be a merged data
frame obtained by <a href='download_merged_data.html'>download_merged_data</a> and defaults to
<code><a href='download_merged_data.html'>download_merged_data(cached = TRUE, silent = TRUE)</a></code>.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>The statistic that you want to plot. Needs to be either
"confirmed", "deaths", "recovered" or "active", defined as the difference
of "confirmed", "deaths" and "recovered".</p></td>
    </tr>
    <tr>
      <th>min_cases</th>
      <td><p>Defines the zero point of your X axis (the 'event date').
Defaults to 1,000 cases for deaths and 10,000 cases otherwise.</p></td>
    </tr>
    <tr>
      <th>min_by_ctry_obs</th>
      <td><p>Limits the plot to countries that have at least that
many days of data since and including the event date. Defaults to 7.</p></td>
    </tr>
    <tr>
      <th>edate_cutoff</th>
      <td><p>The upper limit of the X axis in event days.
Defaults to 180.</p></td>
    </tr>
    <tr>
      <th>data_date_str</th>
      <td><p>A date string to include in the annotation of the plot
giving the time when the data was pulled. Defaults to the timestamp of the
data. Note that you might run into issues with the default when running
this in a non-english locale. Consider setting it by hand then.</p></td>
    </tr>
    <tr>
      <th>cumulative</th>
      <td><p>If <code>TRUE</code> (the default) data is being plotted as
cumulative (showing the total figures). If <code>FALSE</code>, (averaged) daily
changes are plotted instead. See <code>change_ave</code> to set the averaging
window.</p></td>
    </tr>
    <tr>
      <th>change_ave</th>
      <td><p>Number of days to average over when you plot daily changes.</p></td>
    </tr>
    <tr>
      <th>per_capita</th>
      <td><p>If <code>TRUE</code> data is being plotted as per capita measure
based on World Bank data. Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>per_capita_x_axis</th>
      <td><p>If <code>TRUE</code>, the 'event date' cutoff for the x
axis set by <code>min_cases</code> is evaluated based on by capita
measures (cases per 100,000  inhabitants). Only feasible when
<code>per_capita</code> is <code>TRUE</code>. Other than in older versions
it now defaults to <code>TRUE</code> whenever <code>per_capita</code> is <code>TRUE</code>
else <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>population_cutoff</th>
      <td><p>Do you want to restrict the plot to countries that
exceed a certain population cutoff? Takes a value in millions and
defaults to 0. Useful for per capita displays.</p></td>
    </tr>
    <tr>
      <th>log_scale</th>
      <td><p>Do you want the Y-axis to be log-scaled? Defaults to
<code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>highlight</th>
      <td><p>A character vector of ISO3c (ISO 3166-1 alpha-3) codes that
identify countries that you want to highlight. Using the
<code>gghighlight</code> package, these observations are highlighted by color
and labeled while the other are grayed out. In <code>NULL</code> (the default),
all countries are labeled. This can cause very cluttered plots.</p></td>
    </tr>
    <tr>
      <th>exclude_others</th>
      <td><p>If <code>TRUE</code>, unhighlighted countries are excluded
from the plot. If <code>FALSE</code> (the default), unhighlighted countries
are grayed out.</p></td>
    </tr>
    <tr>
      <th>intervention</th>
      <td><p>If not default <code>NULL</code> then this identifies the
intervention type that you want to be highlighted by a point marker.
Valid intervention types are based on the ACAPS government measure data
and include general lockdowns ('lockdown'), social distancing
('soc_dist'), movement restrictions ('mov_rest'), public health measures
('pub_health'), and social and economic measures ('soc_econ').</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code><a href='https://ggplot2.tidyverse.org/reference/ggplot2-package.html'>ggplot2</a></code> object.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>plot_covid19_spread</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='img'><img src='plot_covid19_spread-1.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; Failed to get face: , -1</div><div class='input'>
<span class='va'>merged</span> <span class='op'>&lt;-</span> <span class='fu'><a href='download_merged_data.html'>download_merged_data</a></span><span class='op'>(</span>cached <span class='op'>=</span> <span class='cn'>TRUE</span>, silent <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='fu'>plot_covid19_spread</span><span class='op'>(</span><span class='va'>merged</span>, highlight <span class='op'>=</span> <span class='st'>"DEU"</span>, intervention <span class='op'>=</span> <span class='st'>"lockdown"</span><span class='op'>)</span>
</div><div class='img'><img src='plot_covid19_spread-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='fu'>plot_covid19_spread</span><span class='op'>(</span><span class='va'>merged</span>, type <span class='op'>=</span> <span class='st'>"recovered"</span>, min_by_ctry_obs <span class='op'>=</span> <span class='fl'>10</span>,
  edate_cutoff <span class='op'>=</span> <span class='fl'>40</span>,
  highlight <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"ITA"</span>, <span class='st'>"ESP"</span>, <span class='st'>"FRA"</span>, <span class='st'>"DEU"</span>, <span class='st'>"USA"</span><span class='op'>)</span>, intervention <span class='op'>=</span> <span class='st'>"soc_dist"</span>
<span class='op'>)</span>
</div><div class='img'><img src='plot_covid19_spread-3.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Joachim Gassen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


