<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Download, Tidy and Visualize Covid-19 Related Data • tidycovid19</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Download, Tidy and Visualize Covid-19 Related Data">
<meta property="og:description" content="This package facilitates the download of current Covid-19 related 
    data from various sources, including the Johns Hopkins University CSSE 
    team, the Assessment Capacities Project (ACAPS), data on testing, 
    hospitalizations and vaccinations collected by the Our World in Data team,
    Google Trends and movement data, Government measures provided by University 
    of Oxford and additional country-level data provided by the World Bank. 
    These data can be downloaded separately or in one merged data frame. In 
    addition, the package features some functions and shiny app to visualize 
    the country-level spread of Covid-19. ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119053376-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-119053376-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">tidycovid19</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://www.github.com/joachim-gassen/tidycovid19">
    <span class="fa fa-github"></span>
     
    Code repository
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<p>Joachim Gassen</p>
<div id="download-tidy-and-visualize-covid-19-related-data" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#download-tidy-and-visualize-covid-19-related-data" class="anchor"></a>Download, Tidy and Visualize Covid-19 Related Data</h1></div>
<div id="disclaimer" class="section level2">
<h2 class="hasAnchor">
<a href="#disclaimer" class="anchor"></a>Disclaimer</h2>
<p>I am an applied economist studying the economic effects of regulatory interventions on corporate transparency and leading the Open Science Data Center (OSDC) of the <a href="https://accounting-for-transparency.de">TRR 266 Accounting for Transparency</a>, which is funded by the German Science Foundation (DFG). The OSDC has the objective to make research transparent in a way that others can contribute and collaborate.</p>
<p>This is the spirit that motivated me to set up this package. I am clearly no epidemiologist so I will abstain from from providing infrastructure for analyzing the spread of the disease or estimating the effects of non-pharmaceutical interventions. Instead this package serves the purpose to facilitate the use of various Covid-19 related data sources with a special focus on non-pharmaceutical interventions.</p>
<p>In that way, I hope that it might be helpful for others that are interested in doing research on the Covid 19 pandemic by promoting the benefits of open science.</p>
</div>
<div id="the-data" class="section level2">
<h2 class="hasAnchor">
<a href="#the-data" class="anchor"></a>The Data</h2>
<p>As of September 12, 2023 these are the included data sources</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">tidycovid19_data_sources</span><span class="op">)</span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="va">tidycovid19_data_sources</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">id</span><span class="op">)</span>
<span class="va">df</span><span class="op">$</span><span class="va">description</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span>
  <span class="st">"The merged dataset provided by the tidycovid19 R package. Contains data"</span>,
  <span class="st">"from all sources mentioned above."</span>
<span class="op">)</span>
<span class="fu">kable</span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
<p>function_name</p>
</th>
<th style="text-align:left;">
<p>description</p>
</th>
<th style="text-align:left;">
<p>url</p>
</th>
<th style="text-align:left;">
<p>last_data</p>
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<p>download_jhu_csse_covid19_data()</p>
</td>
<td style="text-align:left;">
<p>The COVID-19 Data Repository by the Johns Hopkins University Center for Systems Science and Engineering (JHU CSSE) relies upon publicly available data from multiple sources that do not always agree. It is updated daily. The data comes in three data frames that you can select by the ‘type’ parameter. The ‘country’ data frame contains the global country-level data reported by JHU CSSE by aggregating over the regional data for countries that have regional data available. The ‘country_region’ data frame provides regional data for the countries that have regional data available (mosty Australia, Canada and China). The ‘us_county’ data frame reports the data for the U.S. at the county level. Please note: JHU stopped updating the data on March 10, 2023.</p>
</td>
<td style="text-align:left;">
<p><a href="https://github.com/CSSEGISandData/COVID-19" class="uri">https://github.com/CSSEGISandData/COVID-19</a></p>
</td>
<td style="text-align:left;">
<p>2023-03-09</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>download_ecdc_covid19_data()</p>
</td>
<td style="text-align:left;">
<p>Country-level weekly data on new cases and deaths provided by the European Centre for Disease Prevention and Control (ECDC). The data was updated daily until 2020-12-14 and contains the latest available public data on the number of new Covid-19 cases reported per week and per country.</p>
</td>
<td style="text-align:left;">
<p><a href="https://www.ecdc.europa.eu/en/covid-19/data" class="uri">https://www.ecdc.europa.eu/en/covid-19/data</a></p>
</td>
<td style="text-align:left;">
<p>2023-09-04</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>download_owid_data()</p>
</td>
<td style="text-align:left;">
<p>The Our World in Data team systematically collects data on Covid-19 testing, hospitalizations, and vaccinations from multiple national sources. Data points are collected with varying frequency across countries. The definition on what consitutes a ‘test’ varies, reflected by the variable ‘tests_units’ in the data frame. The vaccination data is currently only available based on ad hoc disclosures by a small set of countries.</p>
</td>
<td style="text-align:left;">
<p><a href="https://github.com/owid/covid-19-data/tree/master/public/data" class="uri">https://github.com/owid/covid-19-data/tree/master/public/data</a></p>
</td>
<td style="text-align:left;">
<p>2023-09-10</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>download_wbank_data()</p>
</td>
<td style="text-align:left;">
<p>The data frame reports current country-level statistics from the World Bank. The regional and income level classifications are also provided by the World Bank. ‘life_expectancy’ is measured in years at birth and ‘gdp_capita’ is measured in 2010 US-$. The original World Bank data items are (in the order how they are represented in the data frame) ‘SP.POP.TOTL’, ‘AG.LND.TOTL.K2’, ‘EN.POP.DNST’, ‘EN.URB.LCTY’, ‘SP.DYN.LE00.IN’, ‘NY.GDP.PCAP.KD’. When you set the parameter ‘var_def’ tot ‘TRUE’. the data comes in a list containing two data frames. The first contains the actual data, the second contains variable definitions.</p>
</td>
<td style="text-align:left;">
<p><a href="https://data.worldbank.org" class="uri">https://data.worldbank.org</a></p>
</td>
<td style="text-align:left;">
<p>2023-09-11</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>download_acaps_npi_data()</p>
</td>
<td style="text-align:left;">
<p>The #COVID19 Government Measures Dataset is provided by ACAPS. It puts together measures implemented by governments worldwide in response to the Coronavirus pandemic. Data collection includes secondary data review. The data is reported in event structure with an event reflecting a government measure. Measures are characterized as being either imposing/extending measures or lifting them and categorized in five categories with each category being split up in further sub-categories. Please note: ACAPS stopped updating the data on December 10, 2020</p>
</td>
<td style="text-align:left;">
<p><a href="https://www.acaps.org/covid19-government-measures-dataset" class="uri">https://www.acaps.org/covid19-government-measures-dataset</a></p>
</td>
<td style="text-align:left;">
<p>2021-01-04</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>download_oxford_npi_data()</p>
</td>
<td style="text-align:left;">
<p>The data on the Oxford Coronavirus Government Response Tracker (OxCGRT) on non-pharmaceutical interventions comes in two data frames that you can select by setting the ‘type’ parameter. The ‘measures’ data frame reports data on governmental response measures as reported by the Oxford OxCGRT team. It is tidied by arranging its content by measure. All original country-day observations that are either initial or represent a value (not note) change from the previous day are included. Economic measures (E1-E4) are not included. The ‘index’ data frame reports the ‘Stringency Index’ and the ‘Legacy Stringency Index’ as calculated by the OxCGRT team based on their governance response measures in a country-day structure. Please note: As indicated on the homepage of the project, too a large extend the data is no longer updated after December 31, 2022 while data review processes continue.</p>
</td>
<td style="text-align:left;">
<p><a href="https://www.bsg.ox.ac.uk/research/research-projects/coronavirus-government-response-tracker" class="uri">https://www.bsg.ox.ac.uk/research/research-projects/coronavirus-government-response-tracker</a></p>
</td>
<td style="text-align:left;">
<p>2022-12-31</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>download_apple_mtr_data()</p>
</td>
<td style="text-align:left;">
<p>Apple’s Mobility Trend Reports reflect requests for directions in Apple Maps. The data frame is organized by country-day and its data are expressed as percentages relative to a baseline volume on January 13th,</p>
<ol>
<li>The data comes in three data frames that you can select by the ‘type’ parameter. The ‘country’ data frame contains country-day level data. The ‘country_region’ data frame provides regional data for regions for which Apple reports regional data. The ‘country_city’ data frame reports city-level data for cities for which Apple reports this data. Please note: Apple stopped providing this data on April 14, 2022</li>
</ol>
</td>
<td style="text-align:left;">
<p><a href="https://www.apple.com/covid19/mobility" class="uri">https://www.apple.com/covid19/mobility</a></p>
</td>
<td style="text-align:left;">
<p>2022-04-12</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>download_google_cmr_data()</p>
</td>
<td style="text-align:left;">
<p>Google’s Community Mobility Reports chart movement trends over time across different categories of places such as retail and recreation, groceries and pharmacies, parks, transit stations, workplaces, and residential. They show how visits and length of stays at different places change in percentages compared to a baseline (the median value, for the corresponding day of the week, during the 5-week period Jan 3 to Feb 6, 2020). The data comes in three data frames that you can select by the ‘type’ parameter. The ‘country’ data frame contains country-day level data. The ‘country_region’ data frame provides regional data for the countries for which Google reports regional data. The ‘us_county’ data frame reports daily data for the U.S. at the county level. Please note: Google stopped providing that data on October 15, 2022</p>
</td>
<td style="text-align:left;">
<p><a href="https://www.google.com/covid19/mobility/" class="uri">https://www.google.com/covid19/mobility/</a></p>
</td>
<td style="text-align:left;">
<p>2022-10-15</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>download_google_trends_data()</p>
</td>
<td style="text-align:left;">
<p>Data are Google Search Volume (GSV) measures as provided by Google Trends API, with the default search term ‘coronavirus’. The data comes in four data frames that you can select by the ‘type’ parameter and the sample period comprises Jan 1, 2020 up to date. The ‘country’ data frame lists GSV by country, to assess which country on average uses the search term most often over the sample period. The ‘country-day’ data frame reports daily search volume data for all countries that show up in the ‘country’ data frame. Each value is relative within country, meaning that values across countries cannot be compared directly. The ‘region’ and ‘city’ data frames list the relative GSV across regions and city within countries when provided by Google Trends. Keep in mind that within each data frame GSV are relative measures with a maximum of 100 indicating the highest search volume. This implies that GSV measures are not comparable across data frames.</p>
</td>
<td style="text-align:left;">
<p><a href="https://trends.google.com/" class="uri">https://trends.google.com/</a></p>
</td>
<td style="text-align:left;">
<p>2023-09-03</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>download_merged_data()</p>
</td>
<td style="text-align:left;">
<p>The merged dataset provided by the tidycovid19 R package. Contains data from all sources mentioned above.</p>
</td>
<td style="text-align:left;">
<p><a href="https://github.com/joachim-gassen/tidycovid19" class="uri">https://github.com/joachim-gassen/tidycovid19</a></p>
</td>
<td style="text-align:left;">
<p>2023-09-11</p>
</td>
</tr>
</tbody>
</table>
</div>
<div id="how-to-use-the-package" class="section level2">
<h2 class="hasAnchor">
<a href="#how-to-use-the-package" class="anchor"></a>How to Use the Package</h2>
<p>The idea is simple. Load the data using the functions above and code away. So, for example:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Suggestion by AndreaPi (issue #19)</span>

<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">tidycovid19</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://zoo.R-Forge.R-project.org/">zoo</a></span><span class="op">)</span>

<span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_merged_data.html">download_merged_data</a></span><span class="op">(</span>cached <span class="op">=</span> <span class="cn">TRUE</span>, silent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="va">df</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">iso3c</span> <span class="op">==</span> <span class="st">"USA"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">mutate</span><span class="op">(</span>
    new_cases <span class="op">=</span> <span class="va">confirmed</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lag.html">lag</a></span><span class="op">(</span><span class="va">confirmed</span><span class="op">)</span>,
    ave_new_cases <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/zoo/man/rollmean.html">rollmean</a></span><span class="op">(</span><span class="va">new_cases</span>, <span class="fl">7</span>, na.pad<span class="op">=</span><span class="cn">TRUE</span>, align<span class="op">=</span><span class="st">"right"</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">new_cases</span><span class="op">)</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">ave_new_cases</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_bar</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>y <span class="op">=</span> <span class="va">new_cases</span><span class="op">)</span>, stat <span class="op">=</span> <span class="st">"identity"</span>, fill <span class="op">=</span> <span class="st">"lightblue"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_line</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>y <span class="op">=</span> <span class="va">ave_new_cases</span><span class="op">)</span>, color <span class="op">=</span><span class="st">"red"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/Example-1.png" style="display: block; margin: auto;"></p>
<p>The data comes with two meta data sets that describe the data. The data frame <code>tidycovid19_data_sources</code> listed above provides short descriptions and links for each data source used by the package. The data frame <code>tidycovid19_variable_defintions</code> provides variable definitions for each variable included in the merged country-day data frame provided by <code><a href="reference/download_merged_data.html">download_merged_data()</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">tidycovid19_variable_definitions</span><span class="op">)</span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="va">tidycovid19_variable_definitions</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span><span class="va">var_name</span>, <span class="va">var_def</span><span class="op">)</span>
<span class="fu">kable</span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
<p>var_name</p>
</th>
<th style="text-align:left;">
<p>var_def</p>
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<p>iso3c</p>
</td>
<td style="text-align:left;">
<p>ISO3c country code as defined by ISO 3166-1 alpha-3</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>country</p>
</td>
<td style="text-align:left;">
<p>Country name</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>date</p>
</td>
<td style="text-align:left;">
<p>Calendar date</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>confirmed</p>
</td>
<td style="text-align:left;">
<p>Confirmed Covid-19 cases as reported by JHU CSSE (accumulated)</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>deaths</p>
</td>
<td style="text-align:left;">
<p>Covid-19-related deaths as reported by JHU CSSE (accumulated)</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>recovered</p>
</td>
<td style="text-align:left;">
<p>Covid-19 recoveries as reported by JHU CSSE (accumulated)</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>ecdc_cases</p>
</td>
<td style="text-align:left;">
<p>Covid-19 cases as reported by ECDC (accumulated, weekly post 2020-12-14)</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>ecdc_deaths</p>
</td>
<td style="text-align:left;">
<p>Covid-19-related deaths as reported by ECDC (accumulated, weekly post 2020-12-14)</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>total_tests</p>
</td>
<td style="text-align:left;">
<p>Accumulated test counts as reported by Our World in Data</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>tests_units</p>
</td>
<td style="text-align:left;">
<p>Definition of what constitutes a ‘test’</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>positive_rate</p>
</td>
<td style="text-align:left;">
<p>The share of COVID-19 tests that are positive, given as a rolling 7-day average</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>hosp_patients</p>
</td>
<td style="text-align:left;">
<p>Number of COVID-19 patients in hospital on a given day</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>icu_patients</p>
</td>
<td style="text-align:left;">
<p>Number of COVID-19 patients in intensive care units (ICUs) on a given day</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>total_vaccinations</p>
</td>
<td style="text-align:left;">
<p>Total number of COVID-19 vaccination doses administered</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>soc_dist</p>
</td>
<td style="text-align:left;">
<p>Number of social distancing measures reported up to date by ACAPS, net of lifted restrictions</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>mov_rest</p>
</td>
<td style="text-align:left;">
<p>Number of movement restrictions reported up to date by ACAPS, net of lifted restrictions</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>pub_health</p>
</td>
<td style="text-align:left;">
<p>Number of public health measures reported up to date by ACAPS, net of lifted restrictions</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>gov_soc_econ</p>
</td>
<td style="text-align:left;">
<p>Number of social and economic measures reported up to date by ACAPS, net of lifted restrictions</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>lockdown</p>
</td>
<td style="text-align:left;">
<p>Number of lockdown measures reported up to date by ACAPS, net of lifted restrictions</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>oxcgrt_stringency_index</p>
</td>
<td style="text-align:left;">
<p>Stringency index as provided by the Oxford COVID-19 Government Response Tracker</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>oxcgrt_stringency_legacy_index</p>
</td>
<td style="text-align:left;">
<p>Legacy stringency index based on old data format (prior April 25, 2020) as provided by the Oxford COVID-19 Government Response Tracker</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>oxcgrt_government_response_index</p>
</td>
<td style="text-align:left;">
<p>Overall government response index as provided by the Oxford COVID-19 Government Response Tracker</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>oxcgrt_containment_health_index</p>
</td>
<td style="text-align:left;">
<p>Containment and health index as provided by the Oxford COVID-19 Government Response Tracker</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>apple_mtr_driving</p>
</td>
<td style="text-align:left;">
<p>Apple Maps usage for driving directions, as percentage*100 relative to the baseline of Jan 13, 2020</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>apple_mtr_walking</p>
</td>
<td style="text-align:left;">
<p>Apple Maps usage for walking directions, as percentage*100 relative to the baseline of Jan 13, 2020</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>apple_mtr_transit</p>
</td>
<td style="text-align:left;">
<p>Apple Maps usage for public transit directions, as percentage*100 relative to the baseline of Jan 13, 2020</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>gcmr_retail_recreation</p>
</td>
<td style="text-align:left;">
<p>Google Community Mobility Reports data for the frequency that people visit retail and recreation places expressed as a percentage*100 change relative to the baseline period Jan 3 - Feb 6, 2020</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>gcmr_grocery_pharmacy</p>
</td>
<td style="text-align:left;">
<p>Google Community Mobility Reports data for the frequency that people visit grocery stores and pharmacies expressed as a percentage*100 change relative to the baseline period Jan 3 - Feb 6, 2020</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>gcmr_parks</p>
</td>
<td style="text-align:left;">
<p>Google Community Mobility Reports data for the frequency that people visit parks expressed as a percentage*100 change relative to the baseline period Jan 3 - Feb 6, 2020</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>gcmr_transit_stations</p>
</td>
<td style="text-align:left;">
<p>Google Community Mobility Reports data for the frequency that people visit transit stations expressed as a percentage*100 change relative to the baseline period Jan 3 - Feb 6, 2020</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>gcmr_workplaces</p>
</td>
<td style="text-align:left;">
<p>Google Community Mobility Reports data for the frequency that people visit workplaces expressed as a percentage*100 change relative to the baseline period Jan 3 - Feb 6, 2020</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>gcmr_residential</p>
</td>
<td style="text-align:left;">
<p>Google Community Mobility Reports data for the frequency that people visit residential places expressed as a percentage*100 change relative to the baseline period Jan 3 - Feb 6, 2020</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>gtrends_score</p>
</td>
<td style="text-align:left;">
<p>Google search volume for the term ‘coronavirus’, relative across time with the country maximum scaled to 100</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>gtrends_country_score</p>
</td>
<td style="text-align:left;">
<p>Country-level Google search volume for the term ‘coronavirus’ over a period starting Jan 1, 2020, relative across countries with the country having the highest search volume scaled to 100 (time-stable)</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>region</p>
</td>
<td style="text-align:left;">
<p>Country region as classified by the World Bank (time-stable)</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>income</p>
</td>
<td style="text-align:left;">
<p>Country income group as classified by the World Bank (time-stable)</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>population</p>
</td>
<td style="text-align:left;">
<p>Country population as reported by the World Bank (original identifier ‘SP.POP.TOTL’, time-stable)</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>land_area_skm</p>
</td>
<td style="text-align:left;">
<p>Country land mass in square kilometers as reported by the World Bank (original identifier ‘AG.LND.TOTL.K2’, time-stable)</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>pop_density</p>
</td>
<td style="text-align:left;">
<p>Country population density as reported by the World Bank (original identifier ‘EN.POP.DNST’, time-stable)</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>pop_largest_city</p>
</td>
<td style="text-align:left;">
<p>Population in the largest metropolian area of the country as reported by the World Bank (original identifier ‘EN.URB.LCTY’, time-stable)</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>life_expectancy</p>
</td>
<td style="text-align:left;">
<p>Average life expectancy at birth of country citizens in years as reported by the World Bank (original identifier ‘SP.DYN.LE00.IN’, time-stable)</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>gdp_capita</p>
</td>
<td style="text-align:left;">
<p>Country gross domestic product per capita, measured in 2010 US-$ as reported by the World Bank (original identifier ‘NY.GDP.PCAP.KD’, time-stable)</p>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>timestamp</p>
</td>
<td style="text-align:left;">
<p>Date and time where data has been collected from authoritative sources</p>
</td>
</tr>
</tbody>
</table>
<p>There are more examples on how to code in the code file in the main directory with the revealing name <code>code_examples.R</code>. Explore and reuse!</p>
</div>
<div id="visualization" class="section level2">
<h2 class="hasAnchor">
<a href="#visualization" class="anchor"></a>Visualization</h2>
<p>The focus of the package lies on data collection and not on visualization as there are already many great tools floating around. Regardless, there are three functions that allow you to visualize some of the key data that the package provides.</p>
<div id="plot-covid-19-spread-over-event-time" class="section level3">
<h3 class="hasAnchor">
<a href="#plot-covid-19-spread-over-event-time" class="anchor"></a>Plot Covid-19 Spread over Event Time</h3>
<p>The function <code><a href="reference/plot_covid19_spread.html">plot_covid19_spread()</a></code> allows you to quickly visualize the spread of the virus in relation to governmental intervention measures. It is inspired by the insightful displays created by John Burn-Murdoch from the Financial Times and offers various customization options.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#remotes::install_github("joachim-gassen/tidycovid19")</span>

<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">tidycovid19</span><span class="op">)</span>

<span class="va">merged</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_merged_data.html">download_merged_data</a></span><span class="op">(</span>cached <span class="op">=</span> <span class="cn">TRUE</span>, silent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="reference/plot_covid19_spread.html">plot_covid19_spread</a></span><span class="op">(</span>
  <span class="va">merged</span>, highlight <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"ITA"</span>, <span class="st">"ESP"</span>, <span class="st">"GBR"</span>, <span class="st">"FRA"</span>, <span class="st">"DEU"</span>, <span class="st">"USA"</span>, <span class="st">"BRA"</span>, <span class="st">"MEX"</span><span class="op">)</span>,
  intervention <span class="op">=</span> <span class="st">"lockdown"</span>, edate_cutoff <span class="op">=</span> <span class="fl">330</span>
<span class="op">)</span></code></pre></div>
<p><img src="reference/figures/DemoPlot-1.png" style="display: block; margin: auto;"></p>
</div>
<div id="plot-covid-19-stripes" class="section level3">
<h3 class="hasAnchor">
<a href="#plot-covid-19-stripes" class="anchor"></a>Plot Covid-19 Stripes</h3>
<p>Another option to visualize the spread of Covid-19, in particular if you want to compare many countries, is to produce a stripes-based visualization. Meet the Covid-19 stripes:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/plot_covid19_stripes.html">plot_covid19_stripes</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/Covid19Stripes-1.png" style="display: block; margin: auto;"></p>
<p>Again, the function comes with many options. As an example, you can easily switch to a per capita display:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/plot_covid19_stripes.html">plot_covid19_stripes</a></span><span class="op">(</span>
  per_capita <span class="op">=</span> <span class="cn">TRUE</span>, 
  population_cutoff <span class="op">=</span> <span class="cn">TRUE</span>, 
  sort_countries <span class="op">=</span> <span class="st">"magnitude"</span>
<span class="op">)</span></code></pre></div>
<p><img src="reference/figures/Covid19StripesPerCapita-1.png" style="display: block; margin: auto;"></p>
<p>Or single out countries that you are interested in</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/plot_covid19_stripes.html">plot_covid19_stripes</a></span><span class="op">(</span>
  type <span class="op">=</span> <span class="st">"confirmed"</span>, 
  countries <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"ITA"</span>, <span class="st">"ESP"</span>, <span class="st">"FRA"</span>, <span class="st">"GBR"</span>, <span class="st">"DEU"</span>, <span class="st">"USA"</span>, <span class="st">"BRA"</span>, <span class="st">"MEX"</span><span class="op">)</span>,
  sort_countries <span class="op">=</span> <span class="st">"countries"</span>
<span class="op">)</span></code></pre></div>
<p><img src="reference/figures/Covid19StripesSelCountries-1.png" style="display: block; margin: auto;"></p>
</div>
<div id="map-covid-19" class="section level3">
<h3 class="hasAnchor">
<a href="#map-covid-19" class="anchor"></a>Map Covid-19</h3>
<p>Finally, I also included a basic mapping function. <code><a href="reference/map_covid19.html">map_covid19()</a></code> allows you to map the spread of the virus at a certain date both world-wide …</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/map_covid19.html">map_covid19</a></span><span class="op">(</span><span class="va">merged</span>, cumulative <span class="op">=</span> <span class="cn">TRUE</span>, per_capita <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/MapWorldWide-1.png" style="display: block; margin: auto;"></p>
<p>… or for certain regions.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/map_covid19.html">map_covid19</a></span><span class="op">(</span><span class="va">merged</span>, type <span class="op">=</span> <span class="st">"deaths"</span>, cumulative <span class="op">=</span> <span class="cn">TRUE</span>, per_capita <span class="op">=</span> <span class="cn">TRUE</span>, region <span class="op">=</span> <span class="st">"Europe"</span><span class="op">)</span> </code></pre></div>
<p><img src="reference/figures/MapEurope-1.png" style="display: block; margin: auto;"></p>
<p>If you have enough time (takes several minutes), you can also create an animation to visualize the spread of the virus over time.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">merged</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">confirmed</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="reference/map_covid19.html">map_covid19</a></span><span class="op">(</span>
  <span class="va">df</span>, type <span class="op">=</span> <span class="st">"confirmed"</span>, per_capita <span class="op">=</span> <span class="cn">TRUE</span>, dates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">date</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>Again, you can customize the data that you want to plot and of course you can also modify the plot itself by using normal <code>ggplot</code> syntax.</p>
</div>
</div>
<div id="shiny-app" class="section level2">
<h2 class="hasAnchor">
<a href="#shiny-app" class="anchor"></a>Shiny App</h2>
<p>Sorry, I could not resist. The options of the <code><a href="reference/plot_covid19_spread.html">plot_covid19_spread()</a></code> make the implementation of a shiny app a little bit to tempting to pass. The command <code><a href="reference/shiny_covid19_spread.html">shiny_covid19_spread()</a></code> starts the app. Click on the image to be taken to the online app. You can use it to customize your <code><a href="reference/plot_covid19_spread.html">plot_covid19_spread()</a></code> display as it allows copying the plot generating code to the clipboard, thanks to the fine <a href="https://github.com/sbihorel/rclipboard">{rclipboard}</a> package. You can now also customize the app by providing <code><a href="reference/plot_covid19_spread.html">plot_covid19_spread()</a></code> options as a list to the <code>plot_options</code> parameter.</p>
<center>
<p><a href="https://jgassen.shinyapps.io/tidycovid19/"><img src="reference/figures/shiny_covid19_spread.png" alt="Screenshot of shiny_covid19_spread() app"></a></p>
</center>
<p>As the shinyapps.io server has had some issues with exhausting connections, you can also use this <a href="https://trr266.wiwi.hu-berlin.de/shiny/tidycovid19/">alternative server</a>.</p>
</div>
<div id="blog-posts" class="section level2">
<h2 class="hasAnchor">
<a href="#blog-posts" class="anchor"></a>Blog posts</h2>
<p>The blog posts are mostly dated. I am leaving the links here for reference:</p>
<ul>
<li><p><a href="https://joachim-gassen.github.io/2020/05/tidycovid19-new-data-and-doc/">An intro blog post</a> providing a quick walk-through of the package.</p></li>
<li><p><a href="https://joachim-gassen.github.io/2021/01/vaccination-data-an-outlier-tale/">A blog post</a> on the OWID vaccination data.</p></li>
<li><p><a href="https://joachim-gassen.github.io/2020/04/tidycovid19-new-viz-and-npi_lifting/">A blog post</a> on the new visuals of the package.</p></li>
<li><p><a href="https://joachim-gassen.github.io/2020/04/covid19-explore-your-visualier-dof/">A blog post</a> on the visualizer degrees of freedom that are inherent in a plot of the Covid-19 spread.</p></li>
<li><p><a href="https://joachim-gassen.github.io/2020/04/scrape-google-covid19-cmr-data/">A blog post</a> on the PDF scraping of the new Google Covid-19 Community Movement Reports.</p></li>
<li><p><a href="https://joachim-gassen.github.io/2020/04/exploring-and-benchmarking-oxford-government-response-data/">A somewhat dated blog post</a> comparing the ACAPS and Oxford data on governmental interventions.</p></li>
<li><p><a href="https://joachim-gassen.github.io/2020/03/merge-covid-19-data-with-governmental-interventions-data/">An older blog post</a> that showcases some descriptive visuals to see what one can do with the data retrieved by this package.</p></li>
</ul>
</div>
<div id="why-yet-another-package-on-covid-19" class="section level2">
<h2 class="hasAnchor">
<a href="#why-yet-another-package-on-covid-19" class="anchor"></a>Why yet another package on Covid-19?</h2>
<p>There are several packages that provide data and infrastructure related to Covid-19. Two prominent cases are:</p>
<ul>
<li>
<code>{nCov2019}</code>: This <a href="https://github.com/YuLab-SMU/nCov2019">package</a> has a focus on Chinese data but also contains data on other countries and regions. It contains a shiny dashboard.</li>
<li>
<code>{conronavirus}</code>: This <a href="https://github.com/RamiKrispin/coronavirus">package</a> provides the Johns Hopkins University CSSE dataset together with a dashboard</li>
</ul>
<p>Additional R related resources on Covid-19 can be found <a href="https://www.statsandr.com/blog/top-r-resources-on-covid-19-coronavirus/">here</a> and <a href="https://github.com/mine-cetinkaya-rundel/covid19-r">here</a>.</p>
<p>Other than the packages mentioned above, the key objective of the {tidycovid19} package is to provide <em>transparent</em> access to <em>various</em> data sources at the country-day level, including data on governmental interventions and on behavioral response of the public. It does not contain any data per se. Instead, it provides functions to pull data from publicly available authoritative sources. The sources and the data are documented by additional data frames included in the package. While the combined data frame generated by <code><a href="reference/download_merged_data.html">download_merged_data()</a></code> aggregates data at the country-day level, some functions also provide sub-country level data on request.</p>
<p>For those interested in speedy downloads it alternatively provides the option to download from the cached data in this repo (stored in the directory <code>cached_data</code>). The cached data is updated daily.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Joachim Gassen <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-4364-2911" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Joachim Gassen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
